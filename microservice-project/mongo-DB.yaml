# we want to attach one folder inside the contianer to outside the contianer so we use volumen mount. 

apiVersion: apps/v1
kind: Deployment
metadata:
  name: mongodb
spec:
  # modify replicas according to your case
  minReadySeconds: 30 # How much time after pod has been created we show it in a ready state. I.e after 30 seconds when pod create it come into ready state. 
  replicas: 1
  selector:
    matchLabels:
      app: mongodb
  template:
    metadata:
      labels:
        app: mongodb
    spec:
      containers:
      - name: mongodb
        image: mongo:3.6.5-jessie
        volumeMounts:
           - name: mongo-persistent-storage
             mounthPath: /data/db (inside the contianer which needs to be mount)

        volume:                       # alll the volume we have above 
            - name: mongo-persistent-storage
              hostpath:                virtual machine path 
                 path: /mnt/some/directory/structure
                 tyep: DirectoryORCreate
                 
             
        

___


apiVersion: v1
kind: Service
metadata:
  name: fleetman-mongodb
spec:
  selector:
     #THis defines which services are going to be represented by this service 
     # THis service becomes a network end point for either other services
     #Or may be external user like browser.  
    app: mongodb
  ports:
    - name: mongoport
      protocol: TCP
      port: 27017
      #target port is contianer port, Port is service port mostly same both part This is clusterIP  service Means only inside the cluster not webbrowser. 
      #But our is webapp so we need NodePort service. NOdeport is 30000 to 327000
  type: ClusterIP

